package com.mali.ds.arrays;

import java.util.Arrays;

/* https://leetcode.com/contest/biweekly-contest-106/problems/movement-of-robots/ */
public class MovementOfRobots {

  public static int sumDistance(int[] nums, String s, int d) {

    int len = nums.length;
    char[] c = s.toCharArray();
    while (d > 0) {
      d--;
      for (int i = 0; i < len; i++) {
        if (i + 1 < len && c[i] == 'R' && c[i + 1] == 'L') {
          if (nums[i+1] - nums[i] == 0) {
            nums[i]--;
            nums[i + 1]++;
            c[i] = 'L';
            c[i + 1] = 'R';
          } else if (nums[i+1] - nums[i] == 1) {
            c[i] = 'L';
            c[i + 1] = 'R';
          } else {
            nums[i]++;
            nums[i + 1]--;
          }
          i++;
        } else {
          nums[i] = c[i] == 'R' ? nums[i]+1 : nums[i]-1;
        }
      }
    }

    Arrays.sort(nums);
    long ans = 0;
    int MOD = 1000000007;
    for (int i = len - 1, j = 0; i > 0; i--, j++) {
      ans += (Math.abs(nums[i] - nums[i - 1]) * (j * i  + i ))%MOD;
      ans %= MOD;
    }
    return (int) ans;
  }

  public static void main(String[] args) {
    int[] nums = {95440,-473064,-355986,-145125,-429925,412121,-257380,613455,318698,-507781,-57077,169199,395057,60364,159963,-589828,122191,-444632,-693941,462265,365765,-606751,-85694,53390,650220,476999,-509117,626379,468673,-647906,-690276,-110163,-637178,-199759,-585175,100934,-709477,40776,558219,600417,-727066,141244,-309062,88508,451307,444793,34293,-238795,-531212,-63028,-596510,-318463,360740,399574,-116429,318651,-607796,-164155,-192365,-134534,-142746,426411,-477729,-295125,76396,223455,-429772,486688,-30983,258113,220543,359124,192955,551348,78347,-510959,158122,442656,348291,-168123,-115480,-250640,-204144,-594103,183294,-467450,-352226,628991,-553652,733470,-486841,121404,316811,-378798,-633518,730033,-381346,434771,-604259,-151937,440290,-719687,482243,638047,15636,573604,514246,-408414,23688,-662890,722505,-354640,-600103,613207,692509,624851,-495613,-614581,-59638,-265347,250968,205273,-626655,261860,665133,-447163,-533736,85525,-325392,138214,-58231,78063,388306,-175753,-26145,20409,450200,597700,-665534,-89003,248392,274529,290673,438044,-436128,-405721,435347,-251281,351977,202326,-368388,-145697,227641,670920,-277664,-303059,614698,77343,-451859,-524388,545024,-297366,403111,537569,-28300,171985,-170582,-419703,-47677,562015,233525,709653,344615,-612756,-78784,-524036,-32135,-325249,-477517,717145,-222953,574494,342383,-183754,-154151,352787,533532,-559908,-152376,-660763,480230,-275087,-54017,672080,-606513,-687127,407010,666391,-332447,-499631,461833,-168678,-159626,730622,313217,298278,641373,-34555,134769,693423,560630,484194,640701,-442874,110907,23311,-710013,-397559,95848,195635,87756,361272,-287788,622558,-581456,-635829,-567619,78553,557607,527969,-151856,561338,100304,521489,-22329,-716725,554196,167208,393373,522678,-393533,601876,501454,624466,-291969,-75296,-627792,-366264,396263,719983,-110795,-152085,-91651,681158,2891,-626798,-200820,246983,174222,-381389,609675,-229010,518709,674212,-62146,532035,-551074,150254,-192265,-587173,-58750,-630227,464325,720318,-642975,476491,-235229,-58187,282583,429695,-642922,-225637,576392,664939,241961,720932,-92020,180865,462020,677580,-499037,87007,277263,-380892,467917,-149692,-290018,34005,-609316,66931,-635315,706212,110424,436544,149922,482694,127444,-519750,-148134,677426,64671,375088,625353,23633,-695865,398611,-439455,228628,-390244,82850,432169,249835,-540588,-520484,-161956,-708451,-537338,46068,-29180,-237085,25021,-615913,608150,-531855,736029,-91329,44371,399447,-8394,350717,651569,704916,-463608,-238400,101518,-187352,-159060,-241822,-406167,-673010,-588070,697478,704838,606259,294949,-419027,-13335,-734819,727843,720417,488676,690635,-625796,-674938,478172,-677429,524366,-32390,-34922,-672405,451120,421787,-628531,481238,117026,108326,137538,-61528,720000,-361141,21206,576592,692484,160904,-168434,329685,-385260,596816,-385226,330849,-126368,-350553,51817,-614777,-507539,685835,-417913,-181746,-14870,-100258,-252972,8355,-513044,561801,8242,197045,562944,-121296,-129552,-420679,-490957,-208935,-118016,625357,351787,553807,-535880,150873,-156473,-158422,619145,330174,82250,-484071,161845,433285,-231362,337564,-204139,685432,616342,563592,640517,99584,-185979,726341,-355623,679660,208650,391743,5898,-677510,-123435,432286,247652,-366159,-324844,315133,-271427,-343681,647139,961,654344,-77881,593992,341320,-221718,-197145,430507,697766,71932,-630615,-503214,667810,-74324,179407,131353,294569,624413,648274,478041,430778,300139,608225,-606868,-294081,-270248,443359,562205,-571083,115129,368999,559481,-515908,100659,420581,493992,-381221,593424,230232,153881,-240299,287758,514605,-507137,-556209,390573,-627591,734610,399027,388659,-120736,-463459,-622048,-315990,145261,230212,215970,559719,572873,134197,-199596,169186,28328,409275,-520066,-353163,-477351,186628,129977,17484,-325191,438395,-155182,712572,72475,-122282,-720014,-14642,668253,358920,-701548,-583617,-161186,2761,253802,76955,123951,536575,-667501,547836,523398,249942,-702631,462022,333151,28665,669538,226262,-651878,-330990,237879,-118345,588671,-460844,-678732,-128021,65530,-362356,-162925,588273,491619,-367700,192139,-524378,659739,376543,-429762,-712611,-121126,-415659,-134247,-468504,-677666,684470,674211,623510,212895,640870,-23852,629228,360729,490465,243278,652087,-515713,574150,143881,34165,-340139,-469387,-455314,-408500,677629,-610782,-637449,202332,78034,-207314,329946,-651031,83357,-462809,402699,-452981,715210,734325,27112,12307,419569,-344540,-272133,-642503,431096,396330,237659,-286174,-53322,386092,437540,-420809,-87421,268053,328982,-359199,458635,2314,-560714,-602104,-326630,202990,-185776,-174173,-64180,522371,-512448,-377931,-539376,-511804,551610,304933,-526397,138654,730936,379764,276549,119373,-373110,653965,157639,262246,-68961,648668,-374440,-99242,111548,-610993,-167123,-268151,618071,-223171,-676173,114209,-531249,122988,317526,-83274,485892,364685,549668,49554,-732909,-498881,46149,-256222,-544920,73720,-691918,27327,-171936,213079,675956,-208009,140047,-158032,-539956,-649706,584398,-500512,-489158,-140328,-310982,-497890,-112725,98200,-161756,508069,44909,243098,-29835,711052,-285897,445627,280612,-723694,99831,-295243,673959,-220575,-683377,396469,-560000,-427099,537050,638059,-71258,-645454,-446154,481517,-73868,440506,-213721,-411710,203524,30886,438391,-605613,-524976,-639894,-201339,598079,436966,24229,670581,-554532,-526025,624381,-653845,479234,367258,349036,-197655,178621,81362,463491,-374848,463046,-431360,-283990,-676235,-469534,306801,-526657,-503887,232123,128318,-189093,612814,-447539,691178,687006,-500828,-136736,164597,31671,329302,116695,431266,453289,453517,30231,-598827,-730497,534701,-527106,178068,713415,353288,-474053,-567287,-379623,483709,-514025,7271,473841,612762,-304511,726840,456451,-639514,441326,-233526,540170,244419,-474734,-572970,309095,125008,-354329,-734811,308805,-58579,-709083,140887,-32141,-306083,700007,-315394,-450129,92424,291631,326032,406620,640904,-663170,196041,-11149,398228,131635,-705726,-150642,-325001,-221822,531686,58909,-292696,493513,608603,-298408,-368944,-264915,-80290,560674,718317,476496,-529076,-140208,-193652,551948,370176,181917,-340783,304731,-263230,-531417,-230134,291915,520275,142001,-532851,-131805,545018,233201,-285801,88977,-584116,465142,433776,-573332};
    String s = "RLLRRRLRLLRLLRRRRRLLRRRLLRLRLLRRLLLRRLRRRRLRLRRRRRLRRRLRLRLRLLLLRRLRRRLRLRLRLRRLLRRRLRLLRRLRRRLLLLLLRRLLLLLRLLRRRRRLRRRRRLRLLLRRLRLLRRRRRLRRLRLRLRLLRLRRLRLLLLRLRRRRLLLLLRLLLLLLLRRRLRRLLLRRLLRRLRRLRLLRRLRRRRRLRRRLRRLRRRRRRLRLRLRLRRRLRRLRLLLLLRLRRLRRRRLRLRRLLRRRRRLRLRRRRLLLLLRLRLRLRRRRRRLLLLRLLLLLRLLLLLRRRLRLRRRRRLLRLRRRLLLRRLRLRRLLLRRRLRLLLRLLLLRLLLRRRRRLRRLRLLRLRLLRRLRLRLRLRLLRRRRRRLLLRLRLLLRLRRRLLRRRLLRLRLRRRLLRLLLRRLRRLLLLRLLLRRRLRLRRLRLLRLRRLLLRLLRRRLLRRRLLRLRRRRRLRLRRLRRRLLLLLRLRRLLRLRRRLRLRRLLRRLLRLRRLLRLLLLLLLLLLLRLLRRLLLLRLRRLLRRRRLLRLRLRLRRLRRLRRRLRRRLRRRLLLRLRRRLRLRRRRRLRRLLRLLRLRRRLLLRLRLLLRLLRLLLRLRRLLRLLRLLLRRLRLRLRLRRRLRRLRRLLLRRLRRLRRRLLRRLLRLRLRRRRLLRLLLRRLRRRLRLLRRLRLRLLRLRLLLLRLLLLLRRRRLLLLLLRRLLLRLRLLRLRLRLLLLLLLRRLLRLLLLLRRRRLLLLLRRRLLLLLLLLRLRRLLRLRLRLLLRRRRRLRRRLRLRLRRLLLRLLLLLLLRLRLLRRRRLRLLRLLRRLLRRRLRRRLRRRRRLLLLRLRLRRRRRLR";
    int d = 665;
    System.out.println(sumDistance(nums, s, d));
  }
}
